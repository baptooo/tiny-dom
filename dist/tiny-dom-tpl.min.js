!function(exports,word,exps){function loop(tplStr,term,obj,expFrags){var loopObj=eval("obj."+term);if(!loopObj)return"";var _out="",start=tplStr.indexOf("#"+term)+term.length+3,end=tplStr.indexOf("/"+term)-2,loopTplStr=tplStr.substring(start,end);expFrags.push(loopTplStr);for(var i=0;i<loopObj.length;i++)_out+=process(loopTplStr,/^o/.test(typeof loopObj[i])?loopObj[i]:{key:i},expFrags)[0];return _out}function process(tplStr,obj,expFrags){return[tplStr.replace(reg,function(m,k){var exp=k.match(exps)[0]||"",term=k.replace(exp,"");switch(exp){case"#":return loop(tplStr,term,obj,expFrags);case">":return tpl.cache[term]?tpl(term,obj):"";case"/":return""}return void 0!=eval("obj."+k)?eval("obj."+k):""}),expFrags]}function cleanFrags(a,b){for(var c=0;c<b.length;c++)a=a.replace(b[c].replace(reg,""),"");return a}function tpl(a,b){var c=process(tpl.cache[a]||a,b,[]);return c[1].length?cleanFrags(c[0],c[1]):c}var reg=new RegExp("{{("+exps+word+")}}","gi");tpl.cache={},exports.tpl=tpl}(window.exports||window,"[\\w\\.]+","[>|#|/]{0,1}");